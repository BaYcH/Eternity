<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">
<head>
<title>TinyMCE Test</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>

<!-- OF COURSE YOU NEED TO ADAPT NEXT LINE TO YOUR tiny_mce.js PATH -->
<script type="text/javascript" src="jscripts/tiny_mce/tiny_mce.js"></script>
<script src="../html/js/jquery-1.7.1.js"></script>
<script src="../html/js/jquery.json-2.3.js"></script>
<script src="../html/js/jquery.mobile-1.0.1.min.js"></script>
<script type="text/javascript">
tinyMCE.init({
	 // General options
   mode : "textareas",
   theme : "advanced",
   plugins : "autolink,lists,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",

   // Theme options
   theme_advanced_buttons1 : "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,formatselect,fontselect,fontsizeselect,|,nonbreaking,blockquote,pagebreak,|",
   theme_advanced_buttons2 : "pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
   theme_advanced_buttons3 : "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
   theme_advanced_toolbar_location : "top",
   theme_advanced_toolbar_align : "left",
   theme_advanced_statusbar_location : "bottom",
   theme_advanced_resizing : true,

   // Skin options
   skin : "o2k7",
   skin_variant : "silver",

});

function ajaxLoad() {
        var ed = tinyMCE.get('container');

        // Do you ajax call here, window.setTimeout fakes ajax call
        ed.setProgressState(1); // Show progress
        window.setTimeout(function() {
                ed.setProgressState(0); // Hide progress
                ed.setContent('<p>Dear<br><br>Eternity Medicine Institute would like to remind you of your upcoming appointment:<br><br><br>We look forward to seeing you soon, for your convenience please find attached our location map.<br><br>If this is your first appointment with Eternity Medicine Institute, please come to the appointment 12 hours fasting; only drinking water. Refreshments will be provided upon completion of your blood draw.<br><br>Also, Eternity Medicine Institute is a program based medical center and does not accept insurance. If you would like to claim your doctor consultation or blood tests, we kindly ask that you bring your claim form with you to your appointment. Our doctors will be happy to fill the medical visit information for you.<br><br>For additional information or if you have any questions please dont hesitate to contact us:<br><br><br><br>Yours in Health,<br><br>Eternity Medicine Institute, Dubai</p>');
        }, 3000);
}

function ajaxSave() {
        var ed = tinyMCE.get('container');

        // Do you ajax call here, window.setTimeout fakes ajax call
        ed.setProgressState(1); // Show progress
        window.setTimeout(function() {
                ed.setProgressState(0); // Hide progress
                alert(ed.getContent());
        }, 3000);
}

function demo(){  
	var test = '<p>Dear<br><br>Eternity Medicine Institute would like to remind you of your upcoming appointment:<br><br><br>We look forward to seeing you soon, for your convenience please find attached our location map.<br><br>If this is your first appointment with Eternity Medicine Institute, please come to the appointment 12 hours fasting; only drinking water. Refreshments will be provided upon completion of your blood draw.<br><br>Also, Eternity Medicine Institute is a program based medical center and does not accept insurance. If you would like to claim your doctor consultation or blood tests, we kindly ask that you bring your claim form with you to your appointment. Our doctors will be happy to fill the medical visit information for you.<br><br>For additional information or if you have any questions please dont hesitate to contact us:<br><br><br><br>Yours in Health,<br><br>Eternity Medicine Institute, Dubai</p>'
	//alert("1:"+$("#testCopy_ifr").contents().find('body').html());
	
	$("#halleysalam_ifr").contents().find('body').html(test);
	
	
	/* $("#testCopy_ifr").keyup(function(){
		alert("attemt to change text");
	}); */
	
	//alert("23:"+$("#testCopy_ifr").contents().find('body').html());
}
</script>
<body>
<form method="post" action="somepage">
        <textarea id="container" style="width:100%"></textarea>
</form>
<input type="button" id="load" value="Load" onclick="ajaxLoad();">
<input type="button" id="save" value="save" onclick="ajaxSave();">
</body>
</html> 